# ランキングシステム導入手順

あなたのゲームにオンラインランキング機能を追加する手順です。

## 1. Googleスプレッドシートの準備
1. https://sheets.google.com/ にアクセスし、**新しいスプレッドシート**を作成します。
2. 名前は適当に「GameRanking」などにします。
3. **1行目**にヘッダーを入力しておきます（必須ではありませんが管理用）：
   `A1: Date`, `B1: Name`, `C1: Time`, `D1: Lives`

## 2. Google Apps Script (GAS) の作成
1. スプレッドシートのメニューから **拡張機能 > Apps Script** をクリックします。
2. 開いたエディタにある `myFunction` などのコードを全て消します。
3. このプロジェクト内の `GAS_CODE.js` の内容をすべてコピーし、GASエディタに貼り付けます。
4. `Ctrl+S` で保存します（プロジェクト名は適当でOK）。

## 3. デプロイ (Webアプリとして公開)
1. 画面右上の **「デプロイ」** ボタン > **「新しいデプロイ」** を選択します。
2. 以下の設定を行います：
   *   **種類の選択**: 歯車アイコンをクリック > **ウェブアプリ**
   *   **説明**: Ranking API
   *   **次のユーザーとして実行**: **自分** (Me)
   *   **アクセスできるユーザー**: **全員** (Anyone)  <-- **重要！これを選ばないと動きません**
3. **「デプロイ」** をクリックします。
4. 「アクセスを承認」などを求められた場合、「アクセスを承認」→ アカウント選択 → （警告が出たら）詳細(Advanced) → 「無題のプロジェクト（安全ではないページ）に移動」をクリックして許可してください。

## 4. URLの取得と設定
1. デプロイが完了すると **ウェブアプリのURL** が表示されます（`https://script.google.com/...`）。このURLをコピーします。
2. VSCodeに戻り、`js/RankingManager.js` を開きます。
3. 2行目の `this.gasUrl = "..."` の部分に、コピーしたURLを貼り付けます。

```javascript
this.gasUrl = "https://script.google.com/macros/s/あなたのID/exec";
```

これで設定完了です！ゲームを起動するとランキングが取得され、クリア時にはスコアが送信されます。
